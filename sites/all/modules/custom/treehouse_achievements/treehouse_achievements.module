<?php

/**
 * Implements hook_menu().
 */
function treehouse_achievements_menu() {
  $items = array();

  $items['treehouse'] = array(
    'title' => 'Treehouse Achievements',
    'description' => 'Treehouse Achievements',
    'page callback' => 'treehouse_achievements_page',
    'access arguments' => array('access content'),
  );
  return $items;
}

/**
 * Implements hook_page().
 */
 function treehouse_achievements_page() {
   $content = array();

   $content['calltheme'] = array(
     '#theme' => 'treehouse_achievements',
   );
   return $content;
 }


 /**
  * Implements theme_hook().
  */
 function theme_treehouse_achievements($variables) {
   drupal_add_css(drupal_get_path('module', 'treehouse_achievements') . '/treehouse_achievements.css');
   drupal_add_js(drupal_get_path('module', 'treehouse_achievements') .'/treehouse_achievements.js');

   drupal_add_js('misc/ajax.js');

   $output = '';

   $output .= '<div class="team-treehouse">';
   //username for ajax
   $output .= '<a href="teamtreehouse.com/mikemcdaid" target="_blank">';
   $output .= '<h1>Team Treehouse Achievements</h1>';
   $output .= '<h2><strong class="total">0</strong> points have been earned</h2>';
   $output .= '<div class="pieChart group">';
   $output .= '<div class="pie"></div>';
   $output .= '<div class="legend"></div>';
   $output .= '</div>';
   $output .= '</a>';
   $output .= '</div>';

   return $output;
 }

 /**
  * Implements hook_theme().
  */
 function treehouse_achievements_theme() {
   return array(
     'treehouse_achievements' => array(
       'variables' => array('item' => NULL),
     ),
   );
 }







//try block code from o'reilly here






 //Below is void

/**
 * Implements hook_block_info().
 *
 * This hook declares the block for the treehouse_achievements module.
 */
// function treehouse_achievements_block_info() {
//   $blocks = array();
//
//   $blocks['treehouse_achievements'] = array(
//     'info' => t('Treehouse Achievements block'),
//     'region' => 'content',
//     'status' => TRUE,
//     //'cache' => DRUPAL_CACHE_PER_ROLE,
//   );
//   return $blocks;
// }


/**
 * Implements hook_block_configure().
 *
 * This hook declares configuration options for blocks provided by this module.
 */
// function treehouse_achievements_block_configure($delta = '') {
//   $form = array();
//   // The $delta parameter tells us which block is being configured.
//   // In this example, we'll allow the administrator to customize
//   // the text of the 'configurable text string' block defined in this module.
//   if ($delta == 'treehouse_achievements') {
//     // All we need to provide is the specific configuration options for our
//     // block. Drupal will take care of the standard block configuration options
//     // (block title, page visibility, etc.) and the save button.
//     $form['treehouse_achievements_string'] = array(
//       '#type' => 'textfield',
//       '#title' => t('Block contents'),
//       '#size' => 60,
//       '#description' => t('This text will appear in the example block.'),
//       '#default_value' => variable_get('treehouse_achievements_string', t('Some example content.')),
//     );
//   }
//   return $form;
// }



/**
 * Implements hook_block_save().
 *
 * This hook declares how the configured options for a block
 * provided by this module are saved.
 */
// function treehouse_achievements_block_save($delta = '', $edit = array()) {
//   // We need to save settings from the configuration form.
//   // We need to check $delta to make sure we are saving the right block.
//   if ($delta == 'treehouse_achievements') {
//     // Have Drupal save the string to the database.
//     variable_set('treehouse_achievements_string', $edit['treehouse_achievements_string']);
//   }
// }



/**
 * Implements hook_block_view().
 *
 * This hook generates the contents of the blocks themselves.
 */
// function treehouse_achievements_block_view($delta = '') {
//   // The $delta parameter tells us which block is being requested.
//   if ($delta == 'treehouse_achievements') {
//
//       // The subject is displayed at the top of the block. Note that it
//       // should be passed through t() for translation. The title configured
//       // for the block using Drupal UI supercedes this one.
//       $block['subject'] = t('Title for Treehouse Achievements');
//       // The content of the block is typically generated by calling a custom
//       // function.
//       $block['content'] = treehouse_achievements_contents($delta);
//   }
//   return $block;
// }


/**
 * A module-defined block content function.
 */
// function treehouse_achievements_contents($delta = '') {
//   if ($delta == 'treehouse_achievements') {
//       // Modules would typically perform some database queries to fetch the
//       // content for their blocks. Here, we'll just use the variable set in the
//       // block configuration or, if none has set, a default value.
//       // Block content can be returned in two formats: renderable arrays
//       // (as here) are preferred though a simple string will work as well.
//       // Block content created through the UI defaults to a string.
//       $result = array(
//         '#markup' => variable_get('block_example_string',
//           t('Treehose Acievements This block was created at %time',
//             array('%time' => date('c'))
//           )
//         ),
//       );
//   }
//   return $result;
// }
